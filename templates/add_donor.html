{% extends "/index.html" %}
{% block content %}
    {{ donor }}
    <form action="{{ url_for('views.add_donors') if not donor else url_for('views.edit_donor', donor_id=donor['id']) }}"
          method="POST" class="max-w-sm mx-auto">
        <div class="mb-5">
            <label for="first_name" class="block mb-2 text-sm font-medium text-gray-900">First Name</label>
            <input type="text" id="first_name" name="first_name"
                   class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                   placeholder="Enter first name" required
                   value="{{ donor.first_name if donor else '' }}"/>
        </div>
        <div class="mb-5">
            <label for="last_name" class="block mb-2 text-sm font-medium text-gray-900">Last Name</label>
            <input type="text" id="last_name" name="last_name"
                   class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                   placeholder="Enter last name" required
                   value="{{ donor.last_name if donor else '' }}"/>
        </div>
        <div class="mb-5">
            <label for="date_of_birth" class="block mb-2 text-sm font-medium text-gray-900">Date of Birth</label>
            <input type="date" id="date_of_birth" name="date_of_birth"
                   class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                   required
                   value="{{ donor.date_of_birth if donor else '' }}"/>
        </div>
        <div class="mb-5">
            <label for="blood_type" class="block mb-2 text-sm font-medium text-gray-900">Blood Type</label>
            <select id="blood_type" name="blood_type"
                    class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                    required>
                <option value="" disabled {{ 'selected' if not donor else '' }}>Select blood type</option>
                <option value="A+" {{ 'selected' if donor and donor.blood_type == 'A+' else '' }}>A+</option>
                <option value="A-" {{ 'selected' if donor and donor.blood_type == 'A-' else '' }}>A-</option>
                <option value="B+" {{ 'selected' if donor and donor.blood_type == 'B+' else '' }}>B+</option>
                <option value="B-" {{ 'selected' if donor and donor.blood_type == 'B-' else '' }}>B-</option>
                <option value="O+" {{ 'selected' if donor and donor.blood_type == 'O+' else '' }}>O+</option>
                <option value="O-" {{ 'selected' if donor and donor.blood_type == 'O-' else '' }}>O-</option>
                <option value="AB+" {{ 'selected' if donor and donor.blood_type == 'AB+' else '' }}>AB+</option>
                <option value="AB-" {{ 'selected' if donor and donor.blood_type == 'AB-' else '' }}>AB-</option>
            </select>
        </div>
        <div class="mb-5">
            <label for="last_donated" class="block mb-2 text-sm font-medium text-gray-900">Last Donated Date</label>
            <input type="date" id="last_donated" name="last_donated"
                   class="shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
                   value="{{ donor.last_donated if donor else '' }}"/>
        </div>
        <button type="submit"
                class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">
            {{ 'Edit Donor' if donor else 'Add Donor' }}
        </button>
    </form>
{% endblock %}
